(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{3183:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return game}});var a=n(7437),o=n(2265);function createLeafletContext(t){return Object.freeze({__version:1,map:t})}function extendContext(t,e){return Object.freeze({...t,...e})}let l=(0,o.createContext)(null),r=l.Provider;function useLeafletContext(){let t=(0,o.useContext)(l);if(null==t)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}var i=n(447),s=n.n(i);function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function MapContainerComponent({bounds:t,boundsOptions:e,center:n,children:a,className:l,id:s,placeholder:c,style:d,whenReady:m,zoom:u,...h},g){let[v]=(0,o.useState)({className:l,id:s,style:d}),[S,p]=(0,o.useState)(null);(0,o.useImperativeHandle)(g,()=>S?.map??null,[S]);let f=(0,o.useCallback)(a=>{if(null!==a&&null===S){let o=new i.Map(a,h);null!=n&&null!=u?o.setView(n,u):null!=t&&o.fitBounds(t,e),null!=m&&o.whenReady(m),p(createLeafletContext(o))}},[]);(0,o.useEffect)(()=>()=>{S?.map.remove()},[S]);let A=S?o.createElement(r,{value:S},a):c??null;return o.createElement("div",_extends({},v,{ref:f}),A)}let c=(0,o.forwardRef)(MapContainerComponent);var d=n(4887);function createContainerComponent(t){function ContainerComponent(e,n){let{instance:a,context:l}=t(e).current;return(0,o.useImperativeHandle)(n,()=>a),null==e.children?null:o.createElement(r,{value:l},e.children)}return(0,o.forwardRef)(ContainerComponent)}function createDivOverlayComponent(t){function OverlayComponent(e,n){let[a,l]=(0,o.useState)(!1),{instance:r}=t(e,l).current;(0,o.useImperativeHandle)(n,()=>r),(0,o.useEffect)(function(){a&&r.update()},[r,a,e.children]);let i=r._contentNode;return i?(0,d.createPortal)(e.children,i):null}return(0,o.forwardRef)(OverlayComponent)}function component_createLeafComponent(t){function LeafComponent(e,n){let{instance:a}=t(e).current;return(0,o.useImperativeHandle)(n,()=>a),null}return(0,o.forwardRef)(LeafComponent)}function element_createElementObject(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function element_createElementHook(t,e){return null==e?function(e,n){let a=(0,o.useRef)();return a.current||(a.current=t(e,n)),a}:function(n,a){let l=(0,o.useRef)();l.current||(l.current=t(n,a));let r=(0,o.useRef)(n),{instance:i}=l.current;return(0,o.useEffect)(function(){r.current!==n&&(e(i,n,r.current),r.current=n)},[i,n,a]),l}}function useAttribution(t,e){let n=(0,o.useRef)(e);(0,o.useEffect)(function(){e!==n.current&&null!=t.attributionControl&&(null!=n.current&&t.attributionControl.removeAttribution(n.current),null!=e&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function useEventHandlers(t,e){let n=(0,o.useRef)();(0,o.useEffect)(function(){return null!=e&&t.instance.on(e),n.current=e,function(){null!=n.current&&t.instance.off(n.current),n.current=null}},[t,e])}function withPane(t,e){let n=t.pane??e.pane;return n?{...t,pane:n}:t}function useLayerLifecycle(t,e){(0,o.useEffect)(function(){let n=e.layerContainer??e.map;return n.addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function createLayerHook(t){return function(e){let n=useLeafletContext(),a=t(withPane(e,n),n);return useAttribution(n.map,e.attribution),useEventHandlers(a.current,e.eventHandlers),useLayerLifecycle(a.current,n),a}}function createDivOverlayHook(t,e){return function(n,a){let o=useLeafletContext(),l=t(withPane(n,o),o);return useAttribution(o.map,n.attribution),useEventHandlers(l.current,n.eventHandlers),e(l.current,o,n,a),l}}function usePathOptions(t,e){let n=(0,o.useRef)();(0,o.useEffect)(function(){if(e.pathOptions!==n.current){let a=e.pathOptions??{};t.instance.setStyle(a),n.current=a}},[t,e])}function createPathHook(t){return function(e){let n=useLeafletContext(),a=t(withPane(e,n),n);return useEventHandlers(a.current,e.eventHandlers),useLayerLifecycle(a.current,n),usePathOptions(a.current,e),a}}function createLayerComponent(t,e){let n=element_createElementHook(t,e),a=createLayerHook(n);return createContainerComponent(a)}function createOverlayComponent(t,e){let n=element_createElementHook(t),a=createDivOverlayHook(n,e);return createDivOverlayComponent(a)}function createPathComponent(t,e){let n=element_createElementHook(t,e),a=createPathHook(n);return createContainerComponent(a)}function createTileLayerComponent(t,e){let n=element_createElementHook(t,e),a=createLayerHook(n);return component_createLeafComponent(a)}function updateGridLayer(t,e,n){let{opacity:a,zIndex:o}=e;null!=a&&a!==n.opacity&&t.setOpacity(a),null!=o&&o!==n.zIndex&&t.setZIndex(o)}let m=createTileLayerComponent(function({url:t,...e},n){let a=new i.TileLayer(t,withPane(e,n));return element_createElementObject(a,n)},function(t,e,n){updateGridLayer(t,e,n);let{url:a}=e;null!=a&&a!==n.url&&t.setUrl(a)});function useMap(){return useLeafletContext().map}function useMapEvents(t){let e=useMap();return(0,o.useEffect)(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}let u=createLayerComponent(function({position:t,...e},n){let a=new i.Marker(t,e);return element_createElementObject(a,extendContext(n,{overlayContainer:a}))},function(t,e,n){e.position!==n.position&&t.setLatLng(e.position),null!=e.icon&&e.icon!==n.icon&&t.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),null!=t.dragging&&e.draggable!==n.draggable&&(!0===e.draggable?t.dragging.enable():t.dragging.disable())}),h=createOverlayComponent(function(t,e){let n=new i.Popup(t,e.overlayContainer);return element_createElementObject(n,e)},function(t,e,{position:n},a){(0,o.useEffect)(function(){let{instance:o}=t;function onPopupOpen(t){t.popup===o&&(o.update(),a(!0))}function onPopupClose(t){t.popup===o&&a(!1)}return e.map.on({popupopen:onPopupOpen,popupclose:onPopupClose}),null==e.overlayContainer?(null!=n&&o.setLatLng(n),o.openOn(e.map)):e.overlayContainer.bindPopup(o),function(){e.map.off({popupopen:onPopupOpen,popupclose:onPopupClose}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(o)}},[t,e,a,n])}),g=createPathComponent(function({positions:t,...e},n){let a=new i.Polyline(t,e);return element_createElementObject(a,extendContext(n,{overlayContainer:a}))},function(t,e,n){e.positions!==n.positions&&t.setLatLngs(e.positions)});var v=new(s()).Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),component_location=t=>{let{position:e,setPosition:n,target:l}=t,r=(0,o.useRef)(null),i=(0,o.useRef)(null);if(useMapEvents({click(t){null==e&&n(t.latlng)}}),(0,o.useEffect)(()=>{e&&i.current&&setTimeout(()=>{i.current&&i.current.openPopup()},15)},[e]),!e||!l)return null;let s=e.distanceTo(l);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u,{position:e,ref:r}),(0,a.jsx)(u,{position:l,icon:v,ref:i,children:(0,a.jsxs)(h,{children:["You are off by ",s.toFixed(1)," m"]})}),(0,a.jsx)(g,{positions:[e,l],dashArray:"5, 10"})]})};function _detectIconOptions(t,e){var n=i.DomUtil.create("div",t,document.body),a=_extractUrls(_getBkgImageOrCursor(n),e),o=_getStyleInt(n,"width"),l=_getStyleInt(n,"height"),r=_getStyleInt(n,"margin-left"),s=_getStyleInt(n,"margin-top");return n.parentNode.removeChild(n),{Url:a[0],RetinaUrl:a[1],Size:[o,l],Anchor:[-r,-s]}}function _detectDivOverlayOptions(t){var e=i.DomUtil.create("div",t,document.body),n=_getStyleInt(e,"margin-left"),a=_getStyleInt(e,"margin-top");return e.parentNode.removeChild(e),{Anchor:[n,a]}}function _extractUrls(t,e){for(var n=/url\(['"]?([^"']*?)['"]?\)/gi,a=[],o=n.exec(t);o;)a.push(e?_stripPath(o[1]):o[1]),o=n.exec(t);return a}function _stripPath(t){return t.substr(t.lastIndexOf("/")+1)}function _getStyleInt(t,e){return parseInt(_getStyle(t,e),10)}function _getStyle(t,e){return i.DomUtil.getStyle(t,e)||i.DomUtil.getStyle(t,_kebabToCamelCase(e))}function _getBkgImageOrCursor(t){var e=_getStyle(t,"background-image");return e&&"none"!==e?e:_getStyle(t,"cursor")}function _kebabToCamelCase(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}n(1374),i.Icon.Default.mergeOptions({iconUrl:null,iconRetinaUrl:null,shadowUrl:null,iconSize:null,iconAnchor:null,popupAnchor:null,tooltipAnchor:null,shadowSize:null,classNamePrefix:"leaflet-default-icon-"}),i.Icon.Default.include({_needsInit:!0,_getIconUrl:function(t){var e=this.options.imagePath||i.Icon.Default.imagePath||"";return this._needsInit&&this._initializeOptions(e),e+i.Icon.prototype._getIconUrl.call(this,t)},_initializeOptions:function(t){this._setOptions("icon",_detectIconOptions,t),this._setOptions("shadow",_detectIconOptions,t),this._setOptions("popup",_detectDivOverlayOptions),this._setOptions("tooltip",_detectDivOverlayOptions),this._needsInit=!1},_setOptions:function(t,e,n){var a=this.options,o=e(a.classNamePrefix+t,n);for(var l in o)a[t+l]=a[t+l]||o[l]}}),n(8132);let S=new i.LatLng(40.7531,-73.9712);var map=t=>{let{position:e,setPosition:n,target:o}=t;return(0,a.jsx)("div",{className:"h-full w-full",children:(0,a.jsxs)(c,{center:S,zoom:13,className:"h-full w-full",children:[(0,a.jsx)(m,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,a.jsx)(component_location,{position:e,setPosition:n,target:o})]})})};let Location=class Location{constructor(t,e){this.name=t,this.coordinates=e}};let Player=class Player{addAttempt(t){this.attempts.push(t),this.calculateScore()}calculateScore(){let t=this.attempts[this.attempts.length-1];t.score=Math.max(0,1e3-t.distance/10),this.totalScore+=t.score}constructor(t,e,n,a=[]){this.id=t,this.name=e,this.attempts=a,this.totalScore=n}};let GameState=class GameState{addPlayer(t){this.players.set(t.id,t)}getPlayer(t){return this.players.get(t)}constructor(t){this.players=t}};var p=n(3532),f=[{name:"Central Park",coordinates:{lat:40.785091,lng:-73.968285}},{name:"Empire State Building",coordinates:{lat:40.748817,lng:-73.985428}},{name:"Times Square",coordinates:{lat:40.758,lng:-73.9855}},{name:"Statue of Liberty",coordinates:{lat:40.6892,lng:-74.0445}},{name:"Wall Street",coordinates:{lat:40.7074,lng:-74.0113}},{name:"One World Trade Center",coordinates:{lat:40.712743,lng:-74.013379}},{name:"Metropolitan Museum of Art",coordinates:{lat:40.779437,lng:-73.963244}},{name:"Broadway & Canal St",coordinates:{lat:40.718814,lng:-74.002643}},{name:"Madison Square Garden",coordinates:{lat:40.750504,lng:-73.993439}},{name:"Columbia University",coordinates:{lat:40.807536,lng:-73.962573}},{name:"Yankee Stadium",coordinates:{lat:40.829643,lng:-73.926175}},{name:"Brooklyn Bridge",coordinates:{lat:40.706086,lng:-73.996864}},{name:"Chinatown, Manhattan",coordinates:{lat:40.715751,lng:-73.997031}},{name:"Harlem",coordinates:{lat:40.81155,lng:-73.946477}},{name:"Greenwich Village",coordinates:{lat:40.733572,lng:-74.002742}},{name:"14th St & 8th Ave",coordinates:{lat:40.738138,lng:-74.002106}},{name:"23rd St & 5th Ave",coordinates:{lat:40.742058,lng:-73.992222}},{name:"42nd St & Broadway",coordinates:{lat:40.75529,lng:-73.987495}},{name:"Houston St & Broadway",coordinates:{lat:40.725545,lng:-73.996263}},{name:"72nd St & Broadway",coordinates:{lat:40.778894,lng:-73.981858}},{name:"Battery Park",coordinates:{lat:40.703277,lng:-74.017028}},{name:"Lincoln Center",coordinates:{lat:40.772464,lng:-73.983489}},{name:"Park Ave & 42nd St",coordinates:{lat:40.751776,lng:-73.9784}},{name:"5th Ave & 59th St",coordinates:{lat:40.764253,lng:-73.973988}},{name:"34th St & 7th Ave",coordinates:{lat:40.750307,lng:-73.990391}},{name:"14th St & Union Square",coordinates:{lat:40.735863,lng:-73.991084}},{name:"8th Ave & 44th St",coordinates:{lat:40.759101,lng:-73.991331}},{name:"Lexington Ave & 53rd St",coordinates:{lat:40.757658,lng:-73.97195}},{name:"St. Patrick's Cathedral",coordinates:{lat:40.758465,lng:-73.975993}},{name:"The High Line",coordinates:{lat:40.748009,lng:-74.004765}},{name:"Guggenheim Museum",coordinates:{lat:40.783017,lng:-73.959026}},{name:"American Museum of Natural History",coordinates:{lat:40.781324,lng:-73.973988}},{name:"Carnegie Hall",coordinates:{lat:40.765026,lng:-73.979977}},{name:"Flatiron Building",coordinates:{lat:40.741061,lng:-73.989699}},{name:"Grand Central Terminal",coordinates:{lat:40.752726,lng:-73.977229}},{name:"New York Public Library",coordinates:{lat:40.753182,lng:-73.982253}},{name:"Bryant Park",coordinates:{lat:40.753597,lng:-73.983233}},{name:"Washington Square Park",coordinates:{lat:40.73082,lng:-73.997332}},{name:"Union Square Park",coordinates:{lat:40.735863,lng:-73.991084}},{name:"Hudson Yards",coordinates:{lat:40.753499,lng:-74.001374}},{name:"10th Ave & 14th St",coordinates:{lat:40.741742,lng:-74.007522}},{name:"10th Ave & 23rd St",coordinates:{lat:40.747526,lng:-74.004711}},{name:"10th Ave & 34th St",coordinates:{lat:40.754031,lng:-74.001821}},{name:"10th Ave & 42nd St",coordinates:{lat:40.759598,lng:-73.998907}},{name:"10th Ave & 50th St",coordinates:{lat:40.763954,lng:-73.995907}},{name:"10th Ave & 57th St",coordinates:{lat:40.768277,lng:-73.992915}},{name:"10th Ave & 66th St",coordinates:{lat:40.773366,lng:-73.990075}},{name:"10th Ave & 72nd St",coordinates:{lat:40.777499,lng:-73.988313}},{name:"10th Ave & 86th St",coordinates:{lat:40.787641,lng:-73.983478}},{name:"10th Ave & 96th St",coordinates:{lat:40.794323,lng:-73.978034}},{name:"11th Ave & 14th St",coordinates:{lat:40.741202,lng:-74.008087}},{name:"11th Ave & 23rd St",coordinates:{lat:40.747987,lng:-74.005294}},{name:"11th Ave & 34th St",coordinates:{lat:40.754494,lng:-74.002404}},{name:"11th Ave & 42nd St",coordinates:{lat:40.759862,lng:-73.99949}},{name:"11th Ave & 50th St",coordinates:{lat:40.764218,lng:-73.99649}},{name:"11th Ave & 57th St",coordinates:{lat:40.768541,lng:-73.993498}},{name:"11th Ave & 66th St",coordinates:{lat:40.77363,lng:-73.990658}},{name:"11th Ave & 72nd St",coordinates:{lat:40.777763,lng:-73.988896}},{name:"11th Ave & 86th St",coordinates:{lat:40.787905,lng:-73.984061}},{name:"11th Ave & 96th St",coordinates:{lat:40.794587,lng:-73.978617}},{name:"12th Ave & 14th St",coordinates:{lat:40.741299,lng:-74.009662}},{name:"12th Ave & 23rd St",coordinates:{lat:40.748084,lng:-74.006869}},{name:"12th Ave & 34th St",coordinates:{lat:40.754591,lng:-74.003979}},{name:"12th Ave & 42nd St",coordinates:{lat:40.759959,lng:-74.001065}},{name:"12th Ave & 50th St",coordinates:{lat:40.764315,lng:-73.998065}},{name:"12th Ave & 57th St",coordinates:{lat:40.768638,lng:-73.995073}},{name:"12th Ave & 66th St",coordinates:{lat:40.773727,lng:-73.992233}},{name:"12th Ave & 72nd St",coordinates:{lat:40.77786,lng:-73.990471}},{name:"12th Ave & 86th St",coordinates:{lat:40.788002,lng:-73.985636}},{name:"12th Ave & 96th St",coordinates:{lat:40.794684,lng:-73.980192}},{name:"9th Ave & 14th St",coordinates:{lat:40.7396,lng:-74.0033}},{name:"9th Ave & 23rd St",coordinates:{lat:40.7453,lng:-73.9997}},{name:"9th Ave & 34th St",coordinates:{lat:40.7529,lng:-73.9949}},{name:"9th Ave & 42nd St",coordinates:{lat:40.7582,lng:-73.9915}},{name:"9th Ave & 51st St",coordinates:{lat:40.7634,lng:-73.9873}},{name:"9th Ave & 59th St",coordinates:{lat:40.7689,lng:-73.9834}},{name:"9th Ave & 72nd St",coordinates:{lat:40.7792,lng:-73.9834}},{name:"9th Ave & 86th St",coordinates:{lat:40.7888,lng:-73.9764}},{name:"9th Ave & 96th St",coordinates:{lat:40.7945,lng:-73.9736}},{name:"9th Ave & 110th St",coordinates:{lat:40.8024,lng:-73.96}},{name:"8th Ave & Jane St",coordinates:{lat:40.7382,lng:-74.0056}},{name:"8th Ave & W 4th St",coordinates:{lat:40.7347,lng:-74.0031}},{name:"8th Ave & 14th St",coordinates:{lat:40.7401,lng:-74.0018}},{name:"8th Ave & 23rd St",coordinates:{lat:40.7458,lng:-73.9982}},{name:"8th Ave & 34th St",coordinates:{lat:40.7523,lng:-73.9934}},{name:"8th Ave & 42nd St",coordinates:{lat:40.7577,lng:-73.9899}},{name:"8th Ave & 49th St",coordinates:{lat:40.7624,lng:-73.9859}},{name:"8th Ave & 57th St",coordinates:{lat:40.7671,lng:-73.9823}},{name:"8th Ave & 66th St",coordinates:{lat:40.7735,lng:-73.9811}},{name:"8th Ave & 72nd St",coordinates:{lat:40.7785,lng:-73.9818}},{name:"8th Ave & 14th St",coordinates:{lat:40.7401,lng:-74.0018}},{name:"8th Ave & 23rd St",coordinates:{lat:40.7458,lng:-73.9982}},{name:"8th Ave & 34th St",coordinates:{lat:40.7523,lng:-73.9934}},{name:"8th Ave & 42nd St",coordinates:{lat:40.7577,lng:-73.9899}},{name:"8th Ave & 51st St",coordinates:{lat:40.7626,lng:-73.9858}},{name:"8th Ave & 59th St",coordinates:{lat:40.7681,lng:-73.9818}},{name:"8th Ave & 72nd St",coordinates:{lat:40.7785,lng:-73.9818}},{name:"8th Ave & 86th St",coordinates:{lat:40.7881,lng:-73.9748}},{name:"8th Ave & 96th St",coordinates:{lat:40.7938,lng:-73.9718}},{name:"8th Ave & 110th St",coordinates:{lat:40.8017,lng:-73.958}},{name:"6th Ave & Spring St",coordinates:{lat:40.7253,lng:-74.0026}},{name:"6th Ave & Broome St",coordinates:{lat:40.7237,lng:-74.0048}},{name:"6th Ave & Canal St",coordinates:{lat:40.7224,lng:-74.0054}},{name:"6th Ave & W 4th St",coordinates:{lat:40.7348,lng:-74.0022}},{name:"6th Ave & 14th St",coordinates:{lat:40.7379,lng:-73.9967}},{name:"6th Ave & 23rd St",coordinates:{lat:40.7441,lng:-73.9915}},{name:"6th Ave & 34th St",coordinates:{lat:40.7496,lng:-73.9876}},{name:"6th Ave & 42nd St",coordinates:{lat:40.755,lng:-73.9842}},{name:"6th Ave & 51st St",coordinates:{lat:40.7602,lng:-73.9802}},{name:"6th Ave & 59th St",coordinates:{lat:40.7648,lng:-73.9767}},{name:"7th Ave & Christopher St",coordinates:{lat:40.7338,lng:-74.0028}},{name:"7th Ave & Greenwich Ave",coordinates:{lat:40.7358,lng:-74.0035}},{name:"7th Ave & W 4th St",coordinates:{lat:40.7346,lng:-74.0027}},{name:"7th Ave & 14th St",coordinates:{lat:40.738,lng:-73.9985}},{name:"7th Ave & 23rd St",coordinates:{lat:40.7443,lng:-73.9932}},{name:"7th Ave & 34th St",coordinates:{lat:40.7503,lng:-73.9903}},{name:"7th Ave & 42nd St",coordinates:{lat:40.7557,lng:-73.9867}},{name:"7th Ave & 49th St",coordinates:{lat:40.7605,lng:-73.983}},{name:"7th Ave & 57th St",coordinates:{lat:40.7649,lng:-73.9808}},{name:"7th Ave & 59th St",coordinates:{lat:40.7675,lng:-73.9811}},{name:"5th Ave & Washington Square North",coordinates:{lat:40.7312,lng:-73.9973}},{name:"5th Ave & 14th St",coordinates:{lat:40.7371,lng:-73.9956}},{name:"5th Ave & 23rd St",coordinates:{lat:40.7421,lng:-73.9896}},{name:"5th Ave & 34th St",coordinates:{lat:40.7485,lng:-73.9854}},{name:"5th Ave & 42nd St",coordinates:{lat:40.754,lng:-73.9818}},{name:"5th Ave & 51st St",coordinates:{lat:40.7592,lng:-73.9748}},{name:"5th Ave & 59th St",coordinates:{lat:40.7644,lng:-73.9733}},{name:"5th Ave & 72nd St",coordinates:{lat:40.7724,lng:-73.9651}},{name:"5th Ave & 86th St",coordinates:{lat:40.7816,lng:-73.9587}},{name:"5th Ave & 96th St",coordinates:{lat:40.7867,lng:-73.9544}},{name:"4th Ave & Astor Pl",coordinates:{lat:40.7303,lng:-73.9922}},{name:"4th Ave & 8th St",coordinates:{lat:40.7316,lng:-73.9945}},{name:"4th Ave & 11th St",coordinates:{lat:40.7334,lng:-73.9935}},{name:"4th Ave & 13th St",coordinates:{lat:40.7346,lng:-73.9929}},{name:"4th Ave & 14th St",coordinates:{lat:40.7354,lng:-73.9926}},{name:"4th Ave & 16th St",coordinates:{lat:40.7366,lng:-73.9921}},{name:"4th Ave & Union Square East",coordinates:{lat:40.7359,lng:-73.9903}},{name:"4th Ave & 17th St",coordinates:{lat:40.7371,lng:-73.9917}},{name:"4th Ave & 18th St",coordinates:{lat:40.7377,lng:-73.9914}},{name:"4th Ave & 19th St",coordinates:{lat:40.7383,lng:-73.9911}},{name:"3rd Ave & Bowery",coordinates:{lat:40.7256,lng:-73.9923}},{name:"3rd Ave & St. Marks Pl",coordinates:{lat:40.7291,lng:-73.9898}},{name:"3rd Ave & 14th St",coordinates:{lat:40.7332,lng:-73.9876}},{name:"3rd Ave & 23rd St",coordinates:{lat:40.7393,lng:-73.984}},{name:"3rd Ave & 34th St",coordinates:{lat:40.7462,lng:-73.9779}},{name:"3rd Ave & 42nd St",coordinates:{lat:40.7508,lng:-73.9735}},{name:"3rd Ave & 51st St",coordinates:{lat:40.7564,lng:-73.9693}},{name:"3rd Ave & 59th St",coordinates:{lat:40.7608,lng:-73.9678}},{name:"3rd Ave & 72nd St",coordinates:{lat:40.7692,lng:-73.9603}},{name:"3rd Ave & 86th St",coordinates:{lat:40.7782,lng:-73.9539}},{name:"2nd Ave & Houston St",coordinates:{lat:40.7226,lng:-73.9872}},{name:"2nd Ave & 14th St",coordinates:{lat:40.7307,lng:-73.9856}},{name:"2nd Ave & 23rd St",coordinates:{lat:40.7371,lng:-73.9823}},{name:"2nd Ave & 34th St",coordinates:{lat:40.7446,lng:-73.976}},{name:"2nd Ave & 42nd St",coordinates:{lat:40.7491,lng:-73.9715}},{name:"2nd Ave & 57th St",coordinates:{lat:40.759,lng:-73.964}},{name:"2nd Ave & 72nd St",coordinates:{lat:40.7696,lng:-73.9537}},{name:"2nd Ave & 86th St",coordinates:{lat:40.7783,lng:-73.9478}},{name:"2nd Ave & 96th St",coordinates:{lat:40.7849,lng:-73.9462}},{name:"2nd Ave & 110th St",coordinates:{lat:40.7942,lng:-73.9378}},{name:"1st Ave & Houston St",coordinates:{lat:40.7231,lng:-73.9844}},{name:"1st Ave & 14th St",coordinates:{lat:40.7314,lng:-73.9819}},{name:"1st Ave & 23rd St",coordinates:{lat:40.7368,lng:-73.9793}},{name:"1st Ave & 34th St",coordinates:{lat:40.7442,lng:-73.974}},{name:"1st Ave & 42nd St",coordinates:{lat:40.7487,lng:-73.9695}},{name:"1st Ave & 57th St",coordinates:{lat:40.7585,lng:-73.9621}},{name:"1st Ave & 72nd St",coordinates:{lat:40.7691,lng:-73.9521}},{name:"1st Ave & 86th St",coordinates:{lat:40.7778,lng:-73.9463}},{name:"1st Ave & 96th St",coordinates:{lat:40.7844,lng:-73.9448}},{name:"1st Ave & 110th St",coordinates:{lat:40.7937,lng:-73.9364}},{name:"Avenue B & Houston St",coordinates:{lat:40.7234,lng:-73.9818}},{name:"Avenue B & 14th St",coordinates:{lat:40.7312,lng:-73.9782}},{name:"Avenue B & 23rd St",coordinates:{lat:40.7367,lng:-73.9757}},{name:"Avenue B & St Marks Pl",coordinates:{lat:40.7271,lng:-73.981}},{name:"Avenue B & 7th St",coordinates:{lat:40.7275,lng:-73.9804}},{name:"Avenue B & 4th St",coordinates:{lat:40.7248,lng:-73.9816}},{name:"Avenue B & 6th St",coordinates:{lat:40.7262,lng:-73.9809}},{name:"Avenue B & 10th St",coordinates:{lat:40.7284,lng:-73.9791}},{name:"Avenue B & 13th St",coordinates:{lat:40.73,lng:-73.9788}},{name:"Avenue B & 20th St",coordinates:{lat:40.7352,lng:-73.9763}},{name:"Avenue A & Houston St",coordinates:{lat:40.7229,lng:-73.985}},{name:"Avenue A & 14th St",coordinates:{lat:40.7298,lng:-73.9814}},{name:"Avenue A & 23rd St",coordinates:{lat:40.7343,lng:-73.9799}},{name:"Avenue A & St Marks Pl",coordinates:{lat:40.7266,lng:-73.9838}},{name:"Avenue A & 7th St",coordinates:{lat:40.727,lng:-73.9832}},{name:"Avenue A & 4th St",coordinates:{lat:40.7244,lng:-73.9844}},{name:"Avenue A & 6th St",coordinates:{lat:40.7258,lng:-73.9837}},{name:"Avenue A & 10th St",coordinates:{lat:40.729,lng:-73.9819}},{name:"Avenue A & 13th St",coordinates:{lat:40.7296,lng:-73.9816}},{name:"Avenue A & 20th St",coordinates:{lat:40.7348,lng:-73.9781}},{name:"Avenue C & Houston St",coordinates:{lat:40.7239,lng:-73.9786}},{name:"Avenue C & 14th St",coordinates:{lat:40.7326,lng:-73.975}},{name:"Avenue C & 23rd St",coordinates:{lat:40.7381,lng:-73.9725}},{name:"Avenue C & St Marks Pl",coordinates:{lat:40.7276,lng:-73.9782}},{name:"Avenue C & 7th St",coordinates:{lat:40.728,lng:-73.9776}},{name:"Avenue C & 4th St",coordinates:{lat:40.7252,lng:-73.9788}},{name:"Avenue C & 6th St",coordinates:{lat:40.7266,lng:-73.9781}},{name:"Avenue C & 10th St",coordinates:{lat:40.7288,lng:-73.9763}},{name:"Avenue C & 13th St",coordinates:{lat:40.7304,lng:-73.976}},{name:"Avenue C & 20th St",coordinates:{lat:40.7356,lng:-73.9735}},{name:"Wall St & Broadway",coordinates:{lat:40.7074,lng:-74.0113}},{name:"Fulton St & Nassau St",coordinates:{lat:40.7098,lng:-74.0072}},{name:"Water St & Pine St",coordinates:{lat:40.7052,lng:-74.0064}},{name:"Broadway & Canal St",coordinates:{lat:40.7181,lng:-74.0026}},{name:"Bowery & Delancey St",coordinates:{lat:40.7202,lng:-73.9939}},{name:"Lafayette St & Spring St",coordinates:{lat:40.7223,lng:-73.9981}},{name:"Varick St & Franklin St",coordinates:{lat:40.7193,lng:-74.0056}},{name:"West St & Chambers St",coordinates:{lat:40.7159,lng:-74.0132}},{name:"Chrystie St & Rivington St",coordinates:{lat:40.7215,lng:-73.9918}},{name:"Allen St & Stanton St",coordinates:{lat:40.7219,lng:-73.9897}},{name:"West Broadway & Duane St",coordinates:{lat:40.7157,lng:-74.0078}},{name:"Centre St & Worth St",coordinates:{lat:40.7146,lng:-74.0025}},{name:"South St & Maiden Ln",coordinates:{lat:40.7051,lng:-74.0077}},{name:"Essex St & Broome St",coordinates:{lat:40.7181,lng:-73.9876}},{name:"Greenwich St & Warren St",coordinates:{lat:40.7147,lng:-74.011}},{name:"Church St & Cortlandt St",coordinates:{lat:40.7107,lng:-74.0111}},{name:"Houston St & Avenue A",coordinates:{lat:40.7228,lng:-73.9843}},{name:"Thompson St & Prince St",coordinates:{lat:40.7247,lng:-74.0023}},{name:"Hudson St & Vestry St",coordinates:{lat:40.7218,lng:-74.0096}},{name:"Park Row & Beekman St",coordinates:{lat:40.7112,lng:-74.0063}},{name:"Broadway & W 72nd St",coordinates:{lat:40.7789,lng:-73.9819}},{name:"Amsterdam Ave & W 79th St",coordinates:{lat:40.7831,lng:-73.9802}},{name:"Columbus Ave & W 86th St",coordinates:{lat:40.7873,lng:-73.9754}},{name:"Central Park West & W 96th St",coordinates:{lat:40.7912,lng:-73.9645}},{name:"Riverside Dr & W 103rd St",coordinates:{lat:40.801,lng:-73.9716}},{name:"5th Ave & E 72nd St",coordinates:{lat:40.7725,lng:-73.9641}},{name:"Madison Ave & E 79th St",coordinates:{lat:40.7754,lng:-73.9603}},{name:"3rd Ave & E 86th St",coordinates:{lat:40.7785,lng:-73.9538}},{name:"Lexington Ave & E 96th St",coordinates:{lat:40.7845,lng:-73.9473}},{name:"York Ave & E 103rd St",coordinates:{lat:40.7903,lng:-73.9454}},{name:"Malcolm X Blvd & W 125th St",coordinates:{lat:40.808,lng:-73.9454}},{name:"St Nicholas Ave & W 135th St",coordinates:{lat:40.8175,lng:-73.9476}},{name:"Frederick Douglass Blvd & W 145th St",coordinates:{lat:40.8249,lng:-73.9422}},{name:"Adam Clayton Powell Jr Blvd & W 155th St",coordinates:{lat:40.8304,lng:-73.9397}},{name:"Lenox Ave & W 135th St",coordinates:{lat:40.8173,lng:-73.9408}},{name:"Grand Concourse & E 161st St",coordinates:{lat:40.8262,lng:-73.9225}},{name:"Webster Ave & E 170th St",coordinates:{lat:40.8388,lng:-73.9106}},{name:"Jerome Ave & W Fordham Rd",coordinates:{lat:40.8629,lng:-73.9018}},{name:"White Plains Rd & Pelham Pkwy",coordinates:{lat:40.8574,lng:-73.8675}},{name:"Eastchester Rd & Boston Rd",coordinates:{lat:40.869,lng:-73.8433}}],game=t=>{var e;let{numPlayers:n,numAttempts:l,restart:r,isGameSet:i}=t,[s,c]=(0,o.useState)([]),[d,m]=(0,o.useState)(null),[u,h]=(0,o.useState)(null),[g,v]=(0,o.useState)(0),[S,A]=(0,o.useState)(0),[y,x]=(0,o.useState)(new GameState(new Map)),shuffle=t=>{let e=t.slice();for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e},C=(0,o.useCallback)(()=>{let t=new GameState(new Map);for(let e=0;e<n;e++){let n=new Player(e,"Player ".concat(e+1),0,[]);t.addPlayer(n)}let e=shuffle(f);c(e),v(0),x(t),m(e.pop()||null)},[n]);(0,o.useEffect)(()=>{i&&C()},[i,C]),(0,o.useEffect)(()=>{if(u&&d&&S<l){let t=u.distanceTo(d.coordinates),e=y.players.get(g);if(e){let n={location:new Location("Current Position",u),target:d,distance:t,score:0},a=new Player(e.id,e.name,e.totalScore,[...e.attempts,n]);a.calculateScore(),x(t=>{let e=new Map(t.players);return e.set(a.id,a),new GameState(e)})}}},[u,d,g,S,l]);let clearMap=()=>{h(null),m(s.pop()||null)},restartGame=()=>{clearMap(),r()};return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen px-4 font-nunito",children:[(0,a.jsx)("div",{className:"text-center",children:S===l?(0,a.jsxs)("h1",{className:"text-3xl font-bold mb-6",children:[(()=>{let t=0,e="",n=Array.from(y.players.values());return n.forEach(n=>{let a=n.attempts.reduce((t,e)=>t+e.score,0);a>t&&(t=a,e=n.name)}),e})()," WON"]}):(0,a.jsxs)("div",{className:"group relative inline-block focus:outline-none focus:ring",children:[(0,a.jsx)("span",{className:"absolute inset-0 border-b-black border-b-2 transition-transform"}),(0,a.jsxs)("div",{onClick:restartGame,className:"relative inline-block px-8 py-3 font-bold text-3xl uppercase tracking-widest text-black group-active:text-opacity-75 cursor-pointer",children:[null===(e=y.players.get(g))||void 0===e?void 0:e.name," Turn"]})]})}),(0,a.jsxs)("main",{className:"flex flex-col lg:flex-row items-start w-full max-w-8xl my-4 ",children:[(0,a.jsx)("div",{className:"lg:h-[80vh] h-[60vh] lg:w-3/4 w-full border-2 border-black rounded-sm overflow-hidden",children:(0,a.jsx)(map,{position:u,setPosition:h,target:(null==d?void 0:d.coordinates)||null})}),(0,a.jsxs)("div",{className:"lg:w-1/4 w-full lg:h-[80vh] rounded-sm lg:mx-4 mt-4 lg:mt-0 overflow-hidden",children:[(0,a.jsx)("div",{className:"h-20 text-center",children:(0,a.jsxs)("h1",{className:"text-3xl mb-4",children:["Where is ",null==d?void 0:d.name,"?"]})}),(()=>{let t=Array.from(y.players.values());return(0,a.jsx)("div",{children:t.map(t=>(0,a.jsxs)("div",{className:"p-4 border-black border-2 mb-4",children:[(0,a.jsx)("h2",{className:"text-lg   ",children:t.name}),(0,a.jsx)("ul",{className:"list-disc pl-5 mt-2",children:t.attempts.map((t,e)=>(0,a.jsxs)("li",{className:"text-sm",children:[t.target.name,": ",t.distance.toFixed(1)," meters"]},e))}),(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-800 mt-2",children:["Score:"," ",(0,a.jsx)("span",{className:"font-semibold ",children:" "+t.totalScore.toFixed(0)})]})]},t.id))})})(),(0,a.jsxs)("div",{className:"flex flex-row mt-4 space-x-4",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(p.Z,{onClick:()=>{if(S>=l||!u)return;let t=(g+1)%n,e=g+1>=n?S+1:S;v(t),A(e),e<l&&clearMap()},colorClass:"bg-yellow-300",children:"Next"})}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(p.Z,{onClick:restartGame,colorClass:"bg-red-300",children:"Restart"})})]})]})]})]})}},8132:function(){},1374:function(){}}]);